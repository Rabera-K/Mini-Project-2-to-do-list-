<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>To-Do-List</title>
  </head>
  <body>
    <button type="button" id="logoutBtn">Logout</button>
    <main class="todo-main">
      <!-- header part -->
      <header class="upper-section">
        <div class="header-top">
          <h2>TO DO</h2>
          <div class="right-items">
            <span class="top-date">Tuesday, Nov 11</span>
            <button class="calendar-btn" id="calendar-modal-btn">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                viewBox="0 -960 960 960"
                width="24px"
                fill="#683ce0"
              >
                <path
                  d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"
                />
              </svg>
            </button>
            <button
              class="theme-toggle"
              id="theme-toggle"
              title="Toggle dark mode"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                viewBox="0 -960 960 960"
                width="24px"
                fill="currentColor"
              >
                <path
                  d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 56-52 100 96-59 57Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 52 56-100 96-57-59Zm326-268Z"
                />
              </svg>
            </button>
          </div>
        </div>

        <!-- calendar part -->
        <div class="calendar-container">
          <div class="calendar-days" id="calendar-days">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>
      </header>

      <!-- Active tasks section -->
      <div id="active-tasks">
        <!-- Will be populated by JavaScript -->
      </div>

      <!-- completed task UI -->
      <section id="completed-section">
        <details>
          <summary>
            Completed tasks (<span id="completed-count">0</span>)
          </summary>
          <div class="completed-list" id="completed-tasks">
            <!-- Will be populated by JavaScript -->
          </div>
        </details>
      </section>

      <!-- empty to-do page -->
      <div class="empty-state" id="empty-state">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="120"
          viewBox="0 -960 960 960"
          width="120"
          fill="#b3b3b3"
        >
          <path
            d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-156t86-127Q252-817 325-848.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 82-31.5 155T763-197.5q-54 54.5-127 86T480-80Zm0-60q142 0 241-99.5T820-480q0-142-99-241t-241-99q-141 0-240.5 99T140-480q0 141 99.5 240.5T480-140Zm0-340Zm-44-180 44 44 44-44 42 42-44 44 44 44-42 42-44-44-44 44-42-42 44-44-44-44 42-42Zm-196 0 44 44 44-44 42 42-44 44 44 44-42 42-44-44-44 44-42-42 44-44-44-44 42-42Zm392 0 44 44 44-44 42 42-44 44 44 44-42 42-44-44-44 44-42-42 44-44-44-44 42-42Z"
          />
        </svg>
        <p>No tasks yet. Add a task to get started!</p>
      </div>

      <!-- add task button -->
      <button class="add-btn" aria-label="add a task" id="add-task-btn">
        +
      </button>
    </main>

    <!-- Modal for adding/editing tasks -->
    <div class="modal" id="task-modal">
      <div class="modal-content">
        <h3 id="modal-title">Add New Task</h3>
        <form id="task-form">
          <div class="form-group">
            <label for="task-title">Task Title</label>
            <input type="text" id="task-title" required />
          </div>
          <div class="form-group">
            <label for="task-description">Description</label>
            <textarea id="task-description"></textarea>
          </div>
          <div class="form-group">
            <label for="task-time">Time</label>
            <input type="time" id="task-time" />
          </div>
          <div class="form-group">
            <label>Priority</label>
            <div class="priority-selector">
              <div
                class="priority-option priority-1"
                data-priority="1"
                title="High Priority"
              ></div>
              <div
                class="priority-option priority-2 selected"
                data-priority="2"
                title="Medium Priority"
              ></div>
              <div
                class="priority-option priority-3"
                data-priority="3"
                title="Low Priority"
              ></div>
            </div>
          </div>
          <div class="modal-buttons">
            <button type="button" class="cancel-btn" id="cancel-btn">
              Cancel
            </button>
            <button type="submit" class="save-btn">Save Task</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Calendar modal -->
    <div class="modal calendar-modal" id="calendar-modal">
      <div class="modal-content">
        <div class="calendar-header">
          <button class="calendar-modal-btn" id="prev-year">&lt;&lt;</button>
          <button class="calendar-modal-btn" id="prev-month">&lt;</button>
          <div class="calendar-month" id="calendar-month">November 2023</div>
          <button class="calendar-modal-btn" id="next-month">&gt;</button>
          <button class="calendar-modal-btn" id="next-year">&gt;&gt;</button>
        </div>
        <div class="calendar-grid" id="calendar-grid">
          <!-- Calendar grid will be populated by JavaScript -->
        </div>
      </div>
    </div>
    <script src="auth-service.js"></script>
    <script src="script.js"></script>
  </body>
</html>
